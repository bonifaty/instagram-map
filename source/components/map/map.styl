@import '~leaflet/dist/leaflet.css'
@require '../../shared/helpers.styl'

#map
    width 100vw
    height 100vh

.my-icon
    width 100%
    height 100%

    &_cluster
        transform scale(1)
        transition transform 0.3s
        &:hover
            transform scale(1.2)

        &::after
        &::before
            box-sizing border-box
            content ''
            position absolute
            z-index 1
            width 100%
            height 100%
            background-color #888
            border 1px solid white
            border-radius 40px
            top 0
            left 4px
            opacity 0.75

        &::after
            left 8px
            opacity 0.5

    &__image
        position relative
        z-index 2
        box-sizing border-box
        border-radius 40px
        border 2px solid white
        background-color white
        width 100%
        height 100%
        background-size cover
        background-position 50%
        display flex
        flex-direction column
        justify-content space-around
        align-items center

    &__count
        width 25px
        height 25px
        border-radius 50%
        background-color rgba(255,255,255,0.8)
        line-height 25px
        text-align center
        color #2c1885
        font-size 14px
        font-weight 500

    &__info
        overflow hidden
        box-sizing border-box
        max-width 0
        position absolute
        top 50%
        left 50%
        border-radius 2px
        background-color rgba(0,0,0,0.75)
        transform translateY(-50%)
        transition max-width 0.5s

    &:hover &__info
        max-width 300px

    &__info-title
        fontPTSans(16px, 400, 1)
        padding 5px 10px
        padding-left 40px
        color white
        transition opacity 0.3s
        opacity 0
        width: 80%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

    &:hover &__info-title
        transition opacity 0.3s 0.2s
        opacity 1

    &__info-pictures
        padding 0 10px 5px 40px
        display flex

    &__info-picture-item
        width 25px
        height 25px
        border-radius 2px
        margin-left 5px
        opacity 0
        transition opacity 0.2s
        &:first-child
            margin-left 0

    &:hover &__info-picture-item
        transition opacity 0.2s
        opacity 1
        for i in 1..10
            &:nth-child({i})
                transition-delay 0.2s + i*0.075s
